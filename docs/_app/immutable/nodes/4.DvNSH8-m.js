import{t as N,a as y,c as Z}from"../chunks/Cc3Z2_IL.js";import"../chunks/BeAKAaJP.js";import{an as ee,u as te,ao as ae,h as se,p as re,t as J,m as a,a as oe,s as _,c as i,q as u,A as b,r as m,ai as L,ah as le}from"../chunks/CmVwLe1v.js";import{l as ne,e as U,r as ie,s as me}from"../chunks/D9amnkf5.js";import{i as ce}from"../chunks/NvEniWog.js";import{e as ve,i as ue}from"../chunks/C4WOWiXW.js";import{r as V,s as de}from"../chunks/B6PI-KYp.js";import{i as pe}from"../chunks/DyXqBrq2.js";import{s as fe,a as he,b as _e}from"../chunks/ZDHWRZaf.js";import{p as z}from"../chunks/CQ4G9T0b.js";import{o as be}from"../chunks/D-1cowGG.js";function q(e,s,c=s){var $=ee();ne(e,"input",l=>{var r=l?e.defaultValue:e.value;if(r=D(e)?B(r):r,c(r),$&&r!==(r=s())){var d=e.selectionStart,o=e.selectionEnd;e.value=r??"",o!==null&&(e.selectionStart=d,e.selectionEnd=Math.min(o,e.value.length))}}),(se&&e.defaultValue!==e.value||te(s)==null&&e.value)&&c(D(e)?B(e.value):e.value),ae(()=>{var l=s();D(e)&&l===B(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function D(e){var s=e.type;return s==="number"||s==="range"}function B(e){return e===""?null:+e}function C(e){return function(...s){var c=s[0];return c.preventDefault(),e==null?void 0:e.apply(this,s)}}var ge=N('<img alt="attached by user">'),xe=N("<p>No images attached yet</p>"),ke=N('<main class="svelte-19k1o28"><form class="svelte-19k1o28"><div id="topBar" class="svelte-19k1o28"><h1>Create a post here...</h1> <p> </p> <button type="submit" class="border2px fancyText btn preset-outlined-secondary-200-800 svelte-19k1o28">Post</button></div> <input placeholder="Title" type="text" required class="inputBox text-black svelte-19k1o28"> <textarea placeholder="Main Paragraph" required class="inputBox text-black svelte-19k1o28"></textarea></form> <aside id="toolSelector" class="svelte-19k1o28"><form class="svelte-19k1o28"><input placeholder="Paste image url here" type="text" required class="inputBox text-black svelte-19k1o28"> <button type="submit" class="border2px fancyText btn preset-outlined-secondary-200-800 svelte-19k1o28">Attach image</button></form> <label for="attachedImagesShowcase">Attached Images:</label> <div id="attachedImagesShowcase" class="svelte-19k1o28"><!></div></aside></main>');function je(e,s){re(s,!1);const[c,$]=fe(),l=()=>he(z,"$posts_store",c);let r=b(""),d=b(""),o=b([]),R=[],Y="",v=b(""),I=b(null),S=[];be(()=>{S=JSON.parse(l()),u(I,F())});function F(){const t="abcdefghijklmnopqrstuvwxyz",n="0123456789",p=()=>t[Math.floor(Math.random()*t.length)],f=()=>n[Math.floor(Math.random()*n.length)];let h="";do h=`${f()}${f()}${f()}${p()}${p()}${p()}`;while(S.some(k=>k.id===h));return h}function G(){const t={id:a(I),author:Y,header:a(r),text:a(d),date:new Date().toISOString(),likes:0,dislikes:0,attachedImages:a(o),comments:[],tags:R};_e(z,JSON.stringify([...S,t])),alert("Your post has been posted!!!")}function H(){a(v).match(/\.(jpeg|jpg|gif|png)$/i)?(a(o).push(a(v)),u(o,a(o)),alert("added image"+a(v)),u(v,"")):alert("Please enter a valid image URL.")}pe();var w=ke(),g=i(w),P=i(g),j=_(i(P),2),K=i(j,!0);m(j),L(2),m(P);var M=_(P,2);V(M);var A=_(M,2);ie(A),m(g);var O=_(g,2),x=i(O),T=i(x);V(T),L(2),m(x);var E=_(x,4),Q=i(E);{var W=t=>{var n=Z(),p=le(n);ve(p,1,()=>a(o),ue,(f,h)=>{var k=ge();J(()=>de(k,"src",a(h))),y(f,k)}),y(t,n)},X=t=>{var n=xe();y(t,n)};ce(Q,t=>{a(o).length>0?t(W):t(X,!1)})}m(E),m(O),m(w),J(()=>me(K,a(I))),q(M,()=>a(r),t=>u(r,t)),q(A,()=>a(d),t=>u(d,t)),U("submit",g,C(G)),q(T,()=>a(v),t=>u(v,t)),U("submit",x,C(H)),y(e,w),oe(),$()}export{je as component};
