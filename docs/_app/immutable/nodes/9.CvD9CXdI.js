import{t as v,a as c}from"../chunks/DrDwaiBy.js";import"../chunks/BPGHJWI2.js";import{p as Pt,a as wt,x as y,D as U,o as t,c as a,b as e,s as l,ak as Ct,t as $,n as Tt}from"../chunks/DMgRPyFJ.js";import{d as jt,s as u,e as At}from"../chunks/DdMn_Oyi.js";import{i as S}from"../chunks/CFSjT7ar.js";import{e as V,i as X}from"../chunks/DU0MZw2q.js";import{r as Bt,s as Y}from"../chunks/DJvQYuIs.js";import{b as Jt,t as Mt}from"../chunks/q-9YxcVR.js";import{i as Wt}from"../chunks/BQwoijYz.js";import{a as F,s as qt,b as zt}from"../chunks/BmmjJtSI.js";import{o as Lt}from"../chunks/BjBEmkcC.js";import{p as Z,u as Et}from"../chunks/H-dT48qA.js";import{p as Ft}from"../chunks/Noyfzopb.js";const Gt=!1,fe=Object.freeze(Object.defineProperty({__proto__:null,prerender:Gt},Symbol.toStringTag,{value:"Module"}));var Ht=(I,f)=>f(),Kt=(I,f)=>f(),Qt=v("<p><em> </em></p>"),Rt=v("<p><small> </small></p>"),Ut=v('<li class="comment svelte-15ly0oc"><p> </p> <!> <!></li>'),Vt=v("<ul></ul>"),Xt=v("<p>No comments available</p>"),Yt=v('<div class="flex gap-2"><h3 class="dark:text-surface-100 text-surface-900"> </h3><br> <h3 class="dark:text-surface-100 text-surface-900"> </h3></div> <h1 class="text-3xl"> </h1> <p class="text-base"> </p> <br><br> <div id="like-dislike-buttons" class="bg-surface-200 svelte-15ly0oc"><button type="button" class="btn hover:bg-primary-950">👍</button> <span class="badge text-l text-black"> </span> <button type="button" class="btn hover:bg-secondary-900">👎</button></div> <div id="commentsContainer" class="svelte-15ly0oc"><div class="flex items-center justify-between p-1"><h2 class="text-xl underline"><strong>Comments</strong></h2><br> <form><input type="text" placeholder="Write a comment?" class="inputBox text-black dark:bg-surface-100 w-100 svelte-15ly0oc"></form></div> <!></div>',1),Zt=v("<p>No Data</p>"),te=v("<img>"),ee=v('<section id="imageSection" class="svelte-15ly0oc"></section>'),ae=v('<article class="overflow-scroll dark:bg-surface-900 bg-surface-50 svelte-15ly0oc" id="divided"><section class="littlePadding svelte-15ly0oc"><!></section> <!></article>');function be(I,f){Pt(f,!1);const[N,tt]=qt(),et=()=>F(Z,"$posts_store",N),at=()=>F(Et,"$user",N),st=()=>F(Ft,"$page",N);let r=U(null),o,D=0,P="",b=U("");Lt(()=>{o=JSON.parse(et()),P=JSON.parse(at()),D=o.indexOf(O(o)),y(r,O(o)),console.log(t(r))});const rt=st().params.post_details;o&&y(r,O(o));function w(){y(r,O(o))}function O(s){return Array.isArray(s)?s.find(i=>i.id===rt):null}function ot(s){return s.split("T")[1]}function it(){o[D].likes+=1,o=o,C(),w()}function lt(){o[D].dislikes+=1,o=o,C(),w()}function nt(s){var i,p;s.preventDefault(),!(t(b).length==""||P=="")&&((p=(i=o[D])==null?void 0:i.comments)==null||p.unshift({author:P,text:t(b),date:new Date().toISOString(),likes:0,dislikes:0,replies:[]}),ct(),y(b,""),w(),console.log(),C())}function C(){zt(Z,JSON.stringify(o))}function ct(){Mt.success("Comment posted!")}Wt();var T=ae(),j=a(T),vt=a(j);{var pt=s=>{var i=Yt(),p=Ct(i),_=a(p),g=a(_);e(_);var G=l(_,3),_t=a(G);e(G),e(p);var A=l(p,2),ft=a(A,!0);e(A);var B=l(A,2),bt=a(B,!0);e(B);var J=l(B,5),H=a(J);H.__click=[Ht,it];var M=l(H,2),gt=a(M,!0);e(M);var xt=l(M,2);xt.__click=[Kt,lt],e(J);var K=l(J,2),W=a(K),q=l(a(W),3),Q=a(q);Bt(Q),e(q),e(W);var ht=l(W,2);{var kt=n=>{var x=Vt();V(x,5,()=>t(r).comments,X,($t,h)=>{var z=Ut(),L=a(z),St=a(L,!0);e(L);var R=l(L,2);{var Dt=d=>{var m=Qt(),k=a(m),E=a(k);e(k),e(m),$(()=>u(E,`By: ${t(h).author??""}`)),c(d,m)};S(R,d=>{t(h).author&&d(Dt)})}var Ot=l(R,2);{var It=d=>{var m=Rt(),k=a(m),E=a(k);e(k),e(m),$(Nt=>u(E,`Posted on: ${Nt??""}`),[()=>ot(t(h).date)],Tt),c(d,m)};S(Ot,d=>{t(h).date&&d(It)})}e(z),$(()=>u(St,t(h).text)),c($t,z)}),e(x),c(n,x)},yt=n=>{var x=Xt();c(n,x)};S(ht,n=>{t(r).comments&&t(r).comments.length>0?n(kt):n(yt,!1)})}e(K),$(()=>{u(g,`Post ID: ${t(r).id??""}`),u(_t,`Written by: ${t(r).author??""}`),u(ft,t(r).header),u(bt,t(r).text),u(gt,t(r).likes-t(r).dislikes||0)}),At("submit",q,n=>nt(n)),Jt(Q,()=>t(b),n=>y(b,n)),c(s,i)},ut=s=>{var i=Zt();c(s,i)};S(vt,s=>{t(r)?s(pt):s(ut,!1)})}e(j);var dt=l(j,2);{var mt=s=>{var i=ee();V(i,5,()=>t(r).attachedImages,X,(p,_)=>{var g=te();$(()=>{Y(g,"src",`../${t(_)??""}`),Y(g,"alt",t(_))}),c(p,g)}),e(i),c(s,i)};S(dt,s=>{t(r)&&s(mt)})}e(T),c(I,T),wt(),tt()}jt(["click"]);export{be as component,fe as universal};
