import{t as c,a as n}from"../chunks/DrDwaiBy.js";import"../chunks/BPGHJWI2.js";import{p as Ot,a as It,x as z,D as Nt,o as t,c as a,b as e,s as i,ak as Pt,t as k,n as wt}from"../chunks/DMgRPyFJ.js";import{d as Ct,s as v,e as Tt}from"../chunks/DdMn_Oyi.js";import{i as y}from"../chunks/CFSjT7ar.js";import{e as Q,i as R}from"../chunks/DU0MZw2q.js";import{s as U}from"../chunks/DJvQYuIs.js";import{i as jt}from"../chunks/BQwoijYz.js";import{a as L,s as At,b as Bt}from"../chunks/BmmjJtSI.js";import{p as V,u as Jt}from"../chunks/H-dT48qA.js";import{p as Mt}from"../chunks/DM1FXAqs.js";import{o as Wt}from"../chunks/BjBEmkcC.js";const qt=!1,ve=Object.freeze(Object.defineProperty({__proto__:null,prerender:qt},Symbol.toStringTag,{value:"Module"}));var zt=(D,m)=>m(),Lt=(D,m)=>m(),Et=c("<p><em> </em></p>"),Ft=c("<p><small> </small></p>"),Gt=c('<li class="comment svelte-15ly0oc"><p> </p> <!> <!></li>'),Ht=c("<ul></ul>"),Kt=c("<p>No comments available</p>"),Qt=c('<div class="flex gap-2"><h3 class="dark:text-surface-100 text-surface-900"> </h3><br> <h3 class="dark:text-surface-100 text-surface-900"> </h3></div> <h1 class="text-3xl"> </h1> <p class="text-base"> </p> <br><br> <div id="like-dislike-buttons" class="bg-surface-200 svelte-15ly0oc"><button type="button" class="btn hover:bg-primary-950">👍</button> <span class="badge text-l text-black"> </span> <button type="button" class="btn hover:bg-secondary-900">👎</button></div> <div id="commentsContainer" class="svelte-15ly0oc"><div class="flex items-center justify-between p-1"><h2 class="text-xl underline"><strong>Comments</strong></h2><br> <form><input type="text" placeholder="Write a comment?" class="inputBox text-black dark:bg-surface-100 w-100 svelte-15ly0oc"></form></div> <!></div>',1),Rt=c("<p>No Data</p>"),Ut=c("<img>"),Vt=c('<section id="imageSection" class="svelte-15ly0oc"></section>'),Xt=c('<article class="overflow-scroll dark:bg-surface-900 bg-surface-50 svelte-15ly0oc" id="divided"><section class="littlePadding svelte-15ly0oc"><!></section> <!></article>');function pe(D,m){Ot(m,!1);const[O,X]=At(),Y=()=>L(V,"$posts_store",O),Z=()=>L(Jt,"$user",O),tt=()=>L(Mt,"$page",O);let s=Nt(null),r,$=0,I="",N="";Wt(()=>{r=JSON.parse(Y()),I=JSON.parse(Z()),$=r.indexOf(S(r)),z(s,S(r)),console.log(t(s))});const et=tt().params.post_details;r&&z(s,S(r));function E(){z(s,S(r))}function S(o){return Array.isArray(o)?o.find(l=>l.id===et):null}function at(o){return o.split("T")[1]}function st(){r[$].likes+=1,r=r,P(),E()}function rt(){r[$].dislikes+=1,r=r,P(),E()}function ot(){N.length==""||I==""||(r[$].comments.append({author:I,text:N,date:new Date().toISOString(),likes:0,dislikes:0,replies:[]}),N="",console.log(),P())}function P(){Bt(V,JSON.stringify(r))}jt();var w=Xt(),C=a(w),it=a(C);{var lt=o=>{var l=Qt(),f=Pt(l),_=a(f),b=a(_);e(_);var F=i(_,3),pt=a(F);e(F),e(f);var T=i(f,2),dt=a(T,!0);e(T);var j=i(T,2),ut=a(j,!0);e(j);var A=i(j,5),G=a(A);G.__click=[zt,st];var B=i(G,2),_t=a(B,!0);e(B);var mt=i(B,2);mt.__click=[Lt,rt],e(A);var H=i(A,2),J=a(H),ft=i(a(J),3);e(J);var bt=i(J,2);{var gt=p=>{var g=Ht();Q(g,5,()=>t(s).comments,R,(ht,x)=>{var M=Gt(),W=a(M),kt=a(W,!0);e(W);var K=i(W,2);{var yt=d=>{var u=Et(),h=a(u),q=a(h);e(h),e(u),k(()=>v(q,`By: ${t(x).author??""}`)),n(d,u)};y(K,d=>{t(x).author&&d(yt)})}var $t=i(K,2);{var St=d=>{var u=Ft(),h=a(u),q=a(h);e(h),e(u),k(Dt=>v(q,`Posted on: ${Dt??""}`),[()=>at(t(x).date)],wt),n(d,u)};y($t,d=>{t(x).date&&d(St)})}e(M),k(()=>v(kt,t(x).text)),n(ht,M)}),e(g),n(p,g)},xt=p=>{var g=Kt();n(p,g)};y(bt,p=>{t(s).comments&&t(s).comments.length>0?p(gt):p(xt,!1)})}e(H),k(()=>{v(b,`Post ID: ${t(s).id??""}`),v(pt,`Written by: ${t(s).author??""}`),v(dt,t(s).header),v(ut,t(s).text),v(_t,t(s).likes-t(s).dislikes||0)}),Tt("submit",ft,p=>ot()),n(o,l)},nt=o=>{var l=Rt();n(o,l)};y(it,o=>{t(s)?o(lt):o(nt,!1)})}e(C);var ct=i(C,2);{var vt=o=>{var l=Vt();Q(l,5,()=>t(s).attachedImages,R,(f,_)=>{var b=Ut();k(()=>{U(b,"src",`../${t(_)??""}`),U(b,"alt",t(_))}),n(f,b)}),e(l),n(o,l)};y(ct,o=>{t(s)&&o(vt)})}e(w),n(D,w),It(),X()}Ct(["click"]);export{pe as component,ve as universal};
